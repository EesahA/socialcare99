{"ast":null,"code":"var _jsxFileName = \"/Users/eesahadam/Desktop/socialcare99/client/src/components/KanbanBoard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport TaskForm from './TaskForm';\nimport './KanbanBoard.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst KanbanBoard = ({\n  showCreateButtons = false,\n  onTaskCreated\n}) => {\n  _s();\n  const [kanbanData, setKanbanData] = useState({\n    Backlog: [],\n    'In Progress': [],\n    Blocked: [],\n    Complete: []\n  });\n  const [loading, setLoading] = useState(true);\n  const [showTaskForm, setShowTaskForm] = useState(false);\n  const [prefillStatus, setPrefillStatus] = useState(null);\n  const fetchTasks = async () => {\n    try {\n      const response = await axios.get('http://localhost:3000/api/tasks', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      const grouped = response.data.reduce((acc, task) => {\n        const status = task.status || 'Backlog';\n        if (!acc[status]) acc[status] = [];\n        acc[status].push(task);\n        return acc;\n      }, {\n        Backlog: [],\n        'In Progress': [],\n        Blocked: [],\n        Complete: []\n      });\n      setKanbanData(grouped);\n    } catch (error) {\n      console.error('Failed to fetch tasks:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchTasks();\n  }, []);\n  useEffect(() => {\n    if (onTaskCreated) {\n      fetchTasks();\n    }\n  }, [onTaskCreated]);\n  const getPriorityColor = priority => {\n    switch (priority) {\n      case 'High':\n        return '#e74c3c';\n      case 'Medium':\n        return '#f1c40f';\n      case 'Low':\n        return '#2ecc71';\n      default:\n        return '#95a5a6';\n    }\n  };\n  const handleAddTask = status => {\n    setPrefillStatus(status);\n    setShowTaskForm(true);\n  };\n  const handleTaskCreated = task => {\n    fetchTasks();\n    setShowTaskForm(false);\n    setPrefillStatus(null);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"kanban-loading\",\n      children: \"Loading tasks...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"kanban-board\",\n      children: Object.keys(kanbanData).map(column => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"kanban-column\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"kanban-column-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: column\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"task-count\",\n            children: kanbanData[column].length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"kanban-column-content\",\n          children: [kanbanData[column].map(task => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"kanban-task\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"task-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"task-title\",\n                children: task.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"priority-indicator\",\n                style: {\n                  backgroundColor: getPriorityColor(task.priority)\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 19\n            }, this), task.description && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"task-description\",\n              children: task.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"task-meta\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"task-case\",\n                children: [\"Case: \", task.caseName]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 21\n              }, this), task.assignedTo && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"task-assignee\",\n                children: [\"Assigned: \", task.assignedTo]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"task-due\",\n                children: [\"Due: \", new Date(task.dueDate).toLocaleDateString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 19\n            }, this)]\n          }, task._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 17\n          }, this)), showCreateButtons && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"add-task-button\",\n            onClick: () => handleAddTask(column),\n            children: \"+ Add Task\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this)]\n      }, column, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TaskForm, {\n      isOpen: showTaskForm,\n      onClose: () => {\n        setShowTaskForm(false);\n        setPrefillStatus(null);\n      },\n      onTaskCreated: handleTaskCreated,\n      prefillStatus: prefillStatus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(KanbanBoard, \"dPJan0S65Im02M21EFZ/iWkVC70=\");\n_c = KanbanBoard;\nexport default KanbanBoard;\nvar _c;\n$RefreshReg$(_c, \"KanbanBoard\");","map":{"version":3,"names":["React","useState","useEffect","axios","TaskForm","jsxDEV","_jsxDEV","Fragment","_Fragment","KanbanBoard","showCreateButtons","onTaskCreated","_s","kanbanData","setKanbanData","Backlog","Blocked","Complete","loading","setLoading","showTaskForm","setShowTaskForm","prefillStatus","setPrefillStatus","fetchTasks","response","get","headers","localStorage","getItem","grouped","data","reduce","acc","task","status","push","error","console","getPriorityColor","priority","handleAddTask","handleTaskCreated","className","children","fileName","_jsxFileName","lineNumber","columnNumber","Object","keys","map","column","length","title","style","backgroundColor","description","caseName","assignedTo","Date","dueDate","toLocaleDateString","_id","onClick","isOpen","onClose","_c","$RefreshReg$"],"sources":["/Users/eesahadam/Desktop/socialcare99/client/src/components/KanbanBoard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport TaskForm from './TaskForm';\nimport './KanbanBoard.css';\n\nconst KanbanBoard = ({ showCreateButtons = false, onTaskCreated }) => {\n  const [kanbanData, setKanbanData] = useState({\n    Backlog: [],\n    'In Progress': [],\n    Blocked: [],\n    Complete: []\n  });\n  const [loading, setLoading] = useState(true);\n  const [showTaskForm, setShowTaskForm] = useState(false);\n  const [prefillStatus, setPrefillStatus] = useState(null);\n\n  const fetchTasks = async () => {\n    try {\n      const response = await axios.get('http://localhost:3000/api/tasks', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n\n      const grouped = response.data.reduce((acc, task) => {\n        const status = task.status || 'Backlog';\n        if (!acc[status]) acc[status] = [];\n        acc[status].push(task);\n        return acc;\n      }, {\n        Backlog: [],\n        'In Progress': [],\n        Blocked: [],\n        Complete: []\n      });\n\n      setKanbanData(grouped);\n    } catch (error) {\n      console.error('Failed to fetch tasks:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchTasks();\n  }, []);\n\n  useEffect(() => {\n    if (onTaskCreated) {\n      fetchTasks();\n    }\n  }, [onTaskCreated]);\n\n  const getPriorityColor = (priority) => {\n    switch (priority) {\n      case 'High': return '#e74c3c';\n      case 'Medium': return '#f1c40f';\n      case 'Low': return '#2ecc71';\n      default: return '#95a5a6';\n    }\n  };\n\n  const handleAddTask = (status) => {\n    setPrefillStatus(status);\n    setShowTaskForm(true);\n  };\n\n  const handleTaskCreated = (task) => {\n    fetchTasks();\n    setShowTaskForm(false);\n    setPrefillStatus(null);\n  };\n\n  if (loading) {\n    return <div className=\"kanban-loading\">Loading tasks...</div>;\n  }\n\n  return (\n    <>\n      <div className=\"kanban-board\">\n        {Object.keys(kanbanData).map((column) => (\n          <div key={column} className=\"kanban-column\">\n            <div className=\"kanban-column-header\">\n              <h3>{column}</h3>\n              <span className=\"task-count\">{kanbanData[column].length}</span>\n            </div>\n            <div className=\"kanban-column-content\">\n              {kanbanData[column].map((task) => (\n                <div key={task._id} className=\"kanban-task\">\n                  <div className=\"task-header\">\n                    <h4 className=\"task-title\">{task.title}</h4>\n                    <div \n                      className=\"priority-indicator\"\n                      style={{ backgroundColor: getPriorityColor(task.priority) }}\n                    ></div>\n                  </div>\n                  {task.description && (\n                    <p className=\"task-description\">{task.description}</p>\n                  )}\n                  <div className=\"task-meta\">\n                    <span className=\"task-case\">Case: {task.caseName}</span>\n                    {task.assignedTo && (\n                      <span className=\"task-assignee\">Assigned: {task.assignedTo}</span>\n                    )}\n                    <span className=\"task-due\">Due: {new Date(task.dueDate).toLocaleDateString()}</span>\n                  </div>\n                </div>\n              ))}\n              {showCreateButtons && (\n                <button \n                  className=\"add-task-button\"\n                  onClick={() => handleAddTask(column)}\n                >\n                  + Add Task\n                </button>\n              )}\n            </div>\n          </div>\n        ))}\n      </div>\n\n      <TaskForm\n        isOpen={showTaskForm}\n        onClose={() => {\n          setShowTaskForm(false);\n          setPrefillStatus(null);\n        }}\n        onTaskCreated={handleTaskCreated}\n        prefillStatus={prefillStatus}\n      />\n    </>\n  );\n};\n\nexport default KanbanBoard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}